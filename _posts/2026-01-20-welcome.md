---
layout: post
title: "Building a Mobile App to be Smart when you shop"
date: 2026-01-20 10:00:00 +0530
---
If you are in Sri Lanka and enrolled your mobile number for various merchant loyalty schemes, you'll be likely to recieve many SMS texts with merchant offers, notifications that fills up your sms inbox. Consider that you shop at Keells, Cargils, Laughs & Glomark supermarkets and have 
two bank accounts and Sampath Bank and Commercial bank having two credit cards with them. Then your SMS inbox will look like below. <br> It is likely that you'd miss out an actually good offer notification. <br>

<img class="post-image" style="--post-image-width: 273px; --post-image-max: 320px;" src="{{ '/assets/images/inbox_nofilter.png' | relative_url }}" alt="SMS inbox example" width="90" height="260" />

What if there is a way to only see the active offers on a particular day, so that it saves time for you to read through the SMS , determine the merchant, offer active days, products applicable, offer details etc. <br>

<div class="post-image-row">
  <img class="post-image" style="--post-image-width: 273px; --post-image-max: 320px;" src="{{ '/assets/images/landing_page.jpeg' | relative_url }}" alt="Landing Page" width="90" height="260" />
  <img class="post-image" style="--post-image-width: 273px; --post-image-max: 320px;" src="{{ '/assets/images/merchant_summary.jpeg' | relative_url }}" alt="Glomark Offer Summary" width="90" height="260" />
</div>
So I vibe coded an Android app that does this. You can also code your own version. This is my way of learning the art of coding with AI by building something useful for me. This is infact the first time I built anything like this. So you can do better !<br>
I'll detail out how I did it. Along the way I had to learn new stuff and referenced somethings I've read. I'll try my best to give a full view without distracting you a lot. <br>

## Article outline
[Set Direction, Divide and Conquer](#divide-and-conquer-approach) <br>
[Assembling the tools](#assembleai) <br>
[Iterating through app Modules](#architecture) <br>

## Set Direction, Divide and Conquer {#divide-and-conquer-approach}

I follow [Simon Wilson](https://simonwillison.net/) 's writing. He posted about an [article by Mitchell Hashimoto](https://mitchellh.com/writing/building-large-technical-projects) ( Hashicorp founder ) that stuck with me. It was about how to structure large projects. <br>
I knew that my app would take some time. I knew I can't afford to put continuous hours. So whenever a progress is made, it should be easier for me to pick it up next and iterate. So holding everything in head isn't an option and I wanted an artefact trail. This aligns well with the article and that's why the article stuck with me I guess.

I knew that I wanted something material which would remind me ; to put effort , add more features and improve. <br> 
Luckily I had built one with ChatGPT help , which can dump selected SMS s to a .txt file. I used this .txt file sometime ago with Gemini to play around, to find out how easy / difficult it to pickup offer details from SMS text <br>

So I wanted to add more features to this app. This is how it looked<br>
<img class="post-image" style="--post-image-width: 273px; --post-image-max: 320px;" src="{{ '/assets/images/smsfilterapp.jpeg' | relative_url }}" alt="SMS Filter App" width="90" height="260" />

## Assembling the tools {#assembleai}

My only option is to build this with AI and I've been wanting to use AI coding agents. <br>
There are IDE based ones such as [Cursor](https://cursor.ai/), [VSCode with Amazon Q](https://marketplace.visualstudio.com/items?itemName=AmazonWebServices.amazon-q-vscode). Then there are CLI ones such as ; [Claude Code](https://claude.com/product/claude-code), [OpenAI Codex](https://openai.com/codex/), Gemini CLI. <br> I've been playing around with Cursor, VS Code with Q but decided to use CLI tool , so that I experience the nuances around it. <br>
To jump start, I took the [Claude Code short course by Anthropic](https://www.deeplearning.ai/short-courses/claude-code-a-highly-agentic-coding-assistant/) offered by [deeplearning.ai](https://www.deeplearning.ai/). I must say it is one of the best , well designed courses someone can take. Eventhough it is meant to be short course, if you follow through all the demos with your own Claude Code, it'll take 2-3 weeks to complete. It has such dense, high quality content. Highly recommend it. It would have cost me around USD 10 to trial the demos on Claude code with PAYG mode. But it was worth it. <br>
The course teach about general hints and development patterns to use CC such as using thinking modes, sub-agents, working on multiple features with git worktrees, using CC for Data Analysis, setting up MCP s and use for developing features. The course starts with building a chat app with RAG. Seeing the quality, I decided to take Anthropic's MCP short course on deeplearning.ai <br>

Also, I've seen some demos on [Google Stich](https://stitch.withgoogle.com/) ( for UX Design ), [Firebase Studio](https://studio.firebase.google.com/) & [Google AI Studio](https://aistudio.google.com/) ( for prototyping apps ) with promising vibe coding features. To stimulate the UI I tried all of them. The final UIs were designed by Stitch. <br>

<div class="post-image-row">
  <img class="post-image" style="--post-image-width: 273px; --post-image-max: 320px;" src="{{ '/assets/images/stichmainwindow.png' | relative_url }}" alt="stich landing page" width="100" height="75" />
  <img class="post-image" style="--post-image-width: 273px; --post-image-max: 320px;" src="{{ '/assets/images/stichcalander.png' | relative_url }}" alt="stich calander" width="100" height="75" />
</div>

When I instruct CC to adhere to the UI, I can extract the image or html of the UI and store it where CC can access. I gave the UI html to CC to build the mobile app front end.<br>

## Iterating through app Modules {#architecture}

So CC made the first working app. It did the following ;<br>
- filter SMS s based on sender
- call Gemini API to parse the offer messages and extract offer details, merchants, offer calander
- build on-device database ; raw offer text , parsed offer details,merchant master, offer master, user preferences ( including system prompt)
  
  The app could read SMS text , call Gemini API ( 2.5 flash) , determine if its valid offer or not, populate database.

  However, due to nature of offer messages, I realised that building merchant master will be entirely difficult with prompting. I tried few shot prompting etc, but the merchant database required some ground truth data. Otherwise same merchant is identified by different names. This prompted multi-step reasoning ( bit like agentic system ) and managing such chain thought using java / kotlin became difficult. Further every iteration required the app to be built on Android Studio which took additional time. Hence a  different approach was required.<br> In this same version I wanted to 


